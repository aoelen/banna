{% extends 'dashboard/layout.html' %}
{% load static %}

{% block body %}
<h1>Planted Trees Overview</h1>
 <hr>

 <div class="container-fluid">
     <div class="page-content page-content-popup">
           <div class="row">
               <div class="col-lg-12 col-xs-12 col-sm-12">
                   <div class="portlet light ">
                       <div class="portlet-title">
                           <div class="caption">
                               <span>Statistics</span>
                           </div>
                       </div>
                       <div class="portlet-body" id = "total_trees">
                       </div>
                   </div>
               </div>
           </div>
           <div class="clearfix"></div>
           <h2>Planted Trees Data</h2>
           <div class="row">
                   <div class="col-lg-12 col-xs-12 col-sm-12">
                    <table class="table table-striped">
                      <tr>
                        <!--<th>S/N</th>-->
                        <th>Farmer Name</th>
                        <th>Yield</th>
                        <th>Fertilizer Used</th>
                        <th>Number of Trees</th>
                        <th>Date</th>
                      </tr>

                      {% for row in rows %}
                        <tr>
                            <!--<td> 1 </td>-->
                            <td> {{ row.report_id.farm.farmer.first_name }} {{ row.report_id.farm.farmer.last_name }} </td>
                            <td> {{ row.yield_number }} </td>
                            <td> {{ row.report_id.fertilizer_used}} </td>
                            <td> {{ row.planted_amount_trees }} </td>
                            <td> 24.06.2018 </td>
                        </tr>
                        {% endfor %}
                    </table>
                   </div>
               </div>
     </div>
</div>

<script type="text/javascript">
     google.charts.load('current', {'packages':['corechart']});
           google.charts.setOnLoadCallback(drawChart);

           function drawChart() {
             var data = google.visualization.arrayToDataTable([
               ['Month', 'KG' ],
               ['Jan',  300],
               ['Feb',  170],
               ['Mar',  60],
               ['Apr',  130],
               ['May',  200],
               ['June',  170],
               ['July',  260],
               ['Aug',  230]
             ]);

             var options = {
               curveType: 'function',
               vAxis: { gridlines: { count: 6, color: 'white' } },
               legend: { position: 'right' },
                colors: ['green']
             };

             var chart = new google.visualization.LineChart(document.getElementById('total_trees'));

             chart.draw(data, options);
           }
      </script>
{% endblock %}
